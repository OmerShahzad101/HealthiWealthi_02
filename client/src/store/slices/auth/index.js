import { createSlice } from '@reduxjs/toolkit';

const initialState = {
    userRole: null,
    userRoleId: null,
    permissions: [],
    accessToken: null,
};

export const authSlice = createSlice({
    name: 'auth',
    initialState,
    reducers: {
        setUserRole(state, { payload }) {
            const { role, roleId } = payload;

            state.userRole = role;
            state.userRoleId = roleId;
        },
        setUserPermissions(state, { payload: permissions }) {
            state.permissions = permissions;
        },
        setAccessToken(state, { payload: accessToken }) {
            state.accessToken = accessToken;
        },
    },
    // The `extraReducers` field lets the slice handle actions defined elsewhere,
    // including actions generated by createAsyncThunk or in other slices.
    extraReducers: {},
});

export const { setUserRole, setUserPermissions, setAccessToken } = authSlice.actions;

export default authSlice.reducer;
